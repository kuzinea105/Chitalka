# Chitalka

Chitalka — микросервис для распознавания фото и PDF, работающий через Yandex Messenger: пользователь отправляет PDF или картинку, а на выходе получает Word или Excel.  
Бот для распознавания документов: PDF/сканы/фото → структурированный текст → Word/Excel.  
Используется как отдельный workflow в n8n и/или как модуль в ITCostik.

## Что в репозитории
- `workflows/` — экспорт workflow Chitalka (без секретов)
- `docs/` — правила распознавания, форматы выходных файлов
- `samples/` — примеры тестовых документов (если добавим и они обезличены)

## Сценарии
- Фото/скан документа → OCR/VLM → извлечение текста/таблиц → формирование:
  - `.docx` (текст, таблицы)
  - `.xlsx` / `.csv` (табличные данные)
- Поддержка “строгих форматов” для автоматической загрузки в учётные системы.

## Требования
- n8n (self-hosted)
- OCR сервис (локальный worker или API endpoint)
- (опционально) VLM модель для сложных сканов/таблиц
- Хранилище для временных файлов (локальный диск)
- Сервер для запуска скриптов: Ryzen 3950X, 128Gb DDR4, RTX 6000 Blackwell, Ubuntu 24.04.3
- Используемая модель: qwen2.5vl:72b-q8_0

## Настройка (общая логика)
1) Настроить переменные окружения:
   - `OCR_URL` / `OCR_URL_EN` (если есть)
   - токен корпоративного бота (если используется)
2) Импортировать workflow в n8n
3) Протестировать на 2 типах файлов:
   - PDF со “сканом” (без текста)
   - обычный PDF с текстом

## Примечания
- В репозитории нет токенов и ключей.
- Если документ содержит персональные данные — используйте обезличенные тестовые примеры.
